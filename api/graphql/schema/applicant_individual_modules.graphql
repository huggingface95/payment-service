"""
Модули аппликанта
Dashboard -> Applicants -> Individual -> Full Profile -> Settings
"""
type ApplicantIndividualModules {
    id: ID!
    "Получить аппликанта"
    applicant_individual_id: ApplicantIndividual @belongsTo(relation: "ApplicantIndividual")
    "Получить модуль"
    applicant_module_id: [ApplicantIndividualModules] @belongsToMany(relation: "modules")
}

extend type Query {
    """
    Получить модули по ID
    """
    applicantIndividualModule(id: ID @eq): ApplicantIndividualModules @find
    """
    Получить список всех модулей аппликанта
    orderBy: [{ column: ID, order: DESC }] сортировка по ID
    """
    applicantIndividualModules(where: _ @whereConditions(columns: ["applicant_individual_id"]), orderBy: _ @orderBy(
        columns: ["id"],
    )): [ApplicantIndividualModules!]! @paginate(defaultCount: 10) @orderBy(column: "id", direction: ASC)
}

extend type Mutation {
    "Создать модуль аппликанта"
    createApplicantIndividualModule(
        "Аппликант"
        applicant_individual_id: ID!
        "Модуль"
        applicant_module_id: [ID]!
    ): ApplicantIndividualModules @field(resolver:"ApplicantModulesMutator@create")

    "Удалит модуль"
    deleteApplicantIndividualModule(
        id: ID!
    ): ApplicantIndividualModules @delete

}

