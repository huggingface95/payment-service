"""
AccountReachedLimit
Banking -> Account -> Account Limit
"""
type AccountReachedLimit {
    id: ID!
    "ID account"
    account_id: ID!
    "Получить Account"
    account: Account @belongsTo(relation:"account")
    "Тип"
    group_type: String!
    "Имя аппликанта"
    client_name: String!
    "Тип аппликанта"
    client_type: String!
    "Тип трансфера"
    transfer_direction: String!
    "Тип лимита"
    limit_type: String!
    "Значение лимита"
    limit_value: Int!
    "Валюта лимита"
    limit_currency: String!
    "Период"
    period: Int!
    "Сумма"
    amount: Decimal!
}

extend type Query @guard {
    "Получить лимит по ID"
    accountReachedLimit(id: ID @eq): AccountReachedLimit   @find
    """
    Получить список лимитов
    """
    accountReachedLimits(
        filter: _ @filterConditions(static: QueryAccountReachedLimitsFilterStatic),
        hasAccount: _ @whereHasConditions(columns: ["id","name"]),
        where: _ @whereConditions(columns: ["account_id", "group_type", "client_name", "client_type", "transfer_direction", "limit_type", "limit_value", "limit_currency", "period", "amount"]),
        orderBy: _ @orderBy(columns: ["id"])
    ): [AccountReachedLimit!]!   @paginate(defaultCount: 10) @orderBy(column: "id", direction: ASC)
}

input QueryAccountReachedLimitsFilterStatic @spread{
    account_id: ID @eq
    limit_currency: String @ilike
    limit_type: String @ilike
    limit_value: String @ilike
    transfer_direction: String @ilike
    period: Int @eq
    amount: Decimal @eq
}
